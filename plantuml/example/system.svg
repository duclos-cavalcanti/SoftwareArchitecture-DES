<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1227px" preserveAspectRatio="none" style="width:1639px;height:1227px;background:#FFFFFF;" version="1.1" viewBox="0 0 1639 1227" width="1639px" zoomAndPan="magnify"><defs><filter height="300%" id="f6489zutovkyj" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="227" x="699.75" y="16.708">1-2-4 Smart Light System</text><!--MD5=[ecaa00577e27b85e3531940ebc8e7d17]
class ControlEntity--><rect codeLine="26" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="124.8281" id="ControlEntity" style="stroke:#A80036;stroke-width:1.5;" width="181" x="786" y="370.9531"/><ellipse cx="832.25" cy="386.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M835.2188,392.5938 Q834.6406,392.8906 834,393.0313 Q833.3594,393.1875 832.6563,393.1875 Q830.1563,393.1875 828.8281,391.5469 Q827.5156,389.8906 827.5156,386.7656 Q827.5156,383.6406 828.8281,381.9844 Q830.1563,380.3281 832.6563,380.3281 Q833.3594,380.3281 834,380.4844 Q834.6563,380.6406 835.2188,380.9375 L835.2188,383.6563 Q834.5938,383.0781 834,382.8125 Q833.4063,382.5313 832.7813,382.5313 Q831.4375,382.5313 830.75,383.6094 Q830.0625,384.6719 830.0625,386.7656 Q830.0625,388.8594 830.75,389.9375 Q831.4375,391 832.7813,391 Q833.4063,391 834,390.7344 Q834.5938,390.4531 835.2188,389.875 L835.2188,392.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="80" x="852.75" y="391.1074">ControlEntity</text><line style="stroke:#A80036;stroke-width:1.5;" x1="787" x2="966" y1="402.9531" y2="402.9531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="794" y="410.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="806" y="417.1636">app_id : Integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="787" x2="966" y1="423.7578" y2="423.7578"/><ellipse cx="797" cy="434.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="134" x="806" y="437.9683">«create» ControlEntity()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="794" y="444.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="806" y="450.7729">send(id, msg)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="794" y="457.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="806" y="463.5776">recv(id, msg)</text><ellipse cx="797" cy="473.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="806" y="476.3823">processAction(&amp;action_obj)</text><ellipse cx="797" cy="485.9766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="58" x="806" y="489.187">getAppID()</text><!--MD5=[fc539fa3f3b7db9b31467e896d367b3b]
class Device--><rect codeLine="35" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="112.0234" id="Device" style="stroke:#A80036;stroke-width:1.5;" width="181" x="525" y="569.9531"/><ellipse cx="590.75" cy="585.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M593.7188,591.5938 Q593.1406,591.8906 592.5,592.0313 Q591.8594,592.1875 591.1563,592.1875 Q588.6563,592.1875 587.3281,590.5469 Q586.0156,588.8906 586.0156,585.7656 Q586.0156,582.6406 587.3281,580.9844 Q588.6563,579.3281 591.1563,579.3281 Q591.8594,579.3281 592.5,579.4844 Q593.1563,579.6406 593.7188,579.9375 L593.7188,582.6563 Q593.0938,582.0781 592.5,581.8125 Q591.9063,581.5313 591.2813,581.5313 Q589.9375,581.5313 589.25,582.6094 Q588.5625,583.6719 588.5625,585.7656 Q588.5625,587.8594 589.25,588.9375 Q589.9375,590 591.2813,590 Q591.9063,590 592.5,589.7344 Q593.0938,589.4531 593.7188,588.875 L593.7188,591.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="41" x="611.25" y="590.1074">Device</text><line style="stroke:#A80036;stroke-width:1.5;" x1="526" x2="705" y1="601.9531" y2="601.9531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="533" y="609.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="545" y="616.1636">device_id : Integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="526" x2="705" y1="622.7578" y2="622.7578"/><ellipse cx="536" cy="633.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="99" x="545" y="636.9683">«create» Device()</text><ellipse cx="536" cy="646.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="74" x="545" y="649.7729">getDeviceID()</text><ellipse cx="536" cy="659.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="142" x="545" y="662.5776">getDeviceStatus(): String</text><ellipse cx="536" cy="672.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="545" y="675.3823">processAction(&amp;action_obj)</text><!--MD5=[41314a0efc36828092cff9ebad2fcafd]
class Group--><rect codeLine="43" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="124.8281" id="Group" style="stroke:#A80036;stroke-width:1.5;" width="181" x="786" y="563.4531"/><ellipse cx="853.25" cy="579.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M856.2188,585.0938 Q855.6406,585.3906 855,585.5313 Q854.3594,585.6875 853.6563,585.6875 Q851.1563,585.6875 849.8281,584.0469 Q848.5156,582.3906 848.5156,579.2656 Q848.5156,576.1406 849.8281,574.4844 Q851.1563,572.8281 853.6563,572.8281 Q854.3594,572.8281 855,572.9844 Q855.6563,573.1406 856.2188,573.4375 L856.2188,576.1563 Q855.5938,575.5781 855,575.3125 Q854.4063,575.0313 853.7813,575.0313 Q852.4375,575.0313 851.75,576.1094 Q851.0625,577.1719 851.0625,579.2656 Q851.0625,581.3594 851.75,582.4375 Q852.4375,583.5 853.7813,583.5 Q854.4063,583.5 855,583.2344 Q855.5938,582.9531 856.2188,582.375 L856.2188,585.0938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="38" x="873.75" y="583.6074">Group</text><line style="stroke:#A80036;stroke-width:1.5;" x1="787" x2="966" y1="595.4531" y2="595.4531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="787" x2="966" y1="603.4531" y2="603.4531"/><ellipse cx="797" cy="614.4531" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="806" y="617.6636">«create» Group()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="794" y="624.2578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="806" y="630.4683">set()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="794" y="637.0625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="806" y="643.2729">unset()</text><ellipse cx="797" cy="652.8672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="93" x="806" y="656.0776">addLight(app_id)</text><ellipse cx="797" cy="665.6719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="806" y="668.8823">removeLight(app_id)</text><ellipse cx="797" cy="678.4766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="806" y="681.687">processAction(&amp;action_obj)</text><!--MD5=[7c1a0278dec21c72584b17e1785fd623]
class Light--><rect codeLine="52" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="99.2188" id="Light" style="stroke:#A80036;stroke-width:1.5;" width="181" x="268" y="755.9531"/><ellipse cx="339.25" cy="771.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M342.2188,777.5938 Q341.6406,777.8906 341,778.0313 Q340.3594,778.1875 339.6563,778.1875 Q337.1563,778.1875 335.8281,776.5469 Q334.5156,774.8906 334.5156,771.7656 Q334.5156,768.6406 335.8281,766.9844 Q337.1563,765.3281 339.6563,765.3281 Q340.3594,765.3281 341,765.4844 Q341.6563,765.6406 342.2188,765.9375 L342.2188,768.6563 Q341.5938,768.0781 341,767.8125 Q340.4063,767.5313 339.7813,767.5313 Q338.4375,767.5313 337.75,768.6094 Q337.0625,769.6719 337.0625,771.7656 Q337.0625,773.8594 337.75,774.9375 Q338.4375,776 339.7813,776 Q340.4063,776 341,775.7344 Q341.5938,775.4531 342.2188,774.875 L342.2188,777.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="30" x="359.75" y="776.1074">Light</text><line style="stroke:#A80036;stroke-width:1.5;" x1="269" x2="448" y1="787.9531" y2="787.9531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="269" x2="448" y1="795.9531" y2="795.9531"/><ellipse cx="279" cy="806.9531" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="89" x="288" y="810.1636">«create» Light()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="276" y="816.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="288" y="822.9683">on()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="276" y="829.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="23" x="288" y="835.7729">off()</text><ellipse cx="279" cy="845.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="288" y="848.5776">processAction(&amp;action_obj)</text><!--MD5=[97d46ae094d28e0d28828e4b8046fed1]
class Sensor--><rect codeLine="60" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="86.4141" id="Sensor" style="stroke:#A80036;stroke-width:1.5;" width="181" x="529" y="762.4531"/><ellipse cx="593.25" cy="778.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M596.2188,784.0938 Q595.6406,784.3906 595,784.5313 Q594.3594,784.6875 593.6563,784.6875 Q591.1563,784.6875 589.8281,783.0469 Q588.5156,781.3906 588.5156,778.2656 Q588.5156,775.1406 589.8281,773.4844 Q591.1563,771.8281 593.6563,771.8281 Q594.3594,771.8281 595,771.9844 Q595.6563,772.1406 596.2188,772.4375 L596.2188,775.1563 Q595.5938,774.5781 595,774.3125 Q594.4063,774.0313 593.7813,774.0313 Q592.4375,774.0313 591.75,775.1094 Q591.0625,776.1719 591.0625,778.2656 Q591.0625,780.3594 591.75,781.4375 Q592.4375,782.5 593.7813,782.5 Q594.4063,782.5 595,782.2344 Q595.5938,781.9531 596.2188,781.375 L596.2188,784.0938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="613.75" y="782.6074">Sensor</text><line style="stroke:#A80036;stroke-width:1.5;" x1="530" x2="709" y1="794.4531" y2="794.4531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="530" x2="709" y1="802.4531" y2="802.4531"/><ellipse cx="540" cy="813.4531" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="103" x="549" y="816.6636">«create» Sensor()</text><ellipse cx="540" cy="826.2578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="549" y="829.4683">getInformation()</text><ellipse cx="540" cy="839.0625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="549" y="842.2729">processAction(&amp;action_obj)</text><!--MD5=[999e49f72af8639b360af99f8c1ff713]
class SwitchLight--><rect codeLine="68" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="99.2188" id="SwitchLight" style="stroke:#A80036;stroke-width:1.5;" width="181" x="7" y="1101.9531"/><ellipse cx="58.25" cy="1117.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M61.2188,1123.5938 Q60.6406,1123.8906 60,1124.0313 Q59.3594,1124.1875 58.6563,1124.1875 Q56.1563,1124.1875 54.8281,1122.5469 Q53.5156,1120.8906 53.5156,1117.7656 Q53.5156,1114.6406 54.8281,1112.9844 Q56.1563,1111.3281 58.6563,1111.3281 Q59.3594,1111.3281 60,1111.4844 Q60.6563,1111.6406 61.2188,1111.9375 L61.2188,1114.6563 Q60.5938,1114.0781 60,1113.8125 Q59.4063,1113.5313 58.7813,1113.5313 Q57.4375,1113.5313 56.75,1114.6094 Q56.0625,1115.6719 56.0625,1117.7656 Q56.0625,1119.8594 56.75,1120.9375 Q57.4375,1122 58.7813,1122 Q59.4063,1122 60,1121.7344 Q60.5938,1121.4531 61.2188,1120.875 L61.2188,1123.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="70" x="78.75" y="1122.1074">SwitchLight</text><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="187" y1="1133.9531" y2="1133.9531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="8" x2="187" y1="1141.9531" y2="1141.9531"/><ellipse cx="18" cy="1152.9531" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="126" x="27" y="1156.1636">«create» SwitchLight()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="1162.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="22" x="27" y="1168.9683">on()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="15" y="1175.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="23" x="27" y="1181.7729">off()</text><ellipse cx="18" cy="1191.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="27" y="1194.5776">processAction(&amp;action_obj)</text><!--MD5=[a54edd4c870d7b3a603adac8183ae883]
class DimmLight--><rect codeLine="75" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="124.8281" id="DimmLight" style="stroke:#A80036;stroke-width:1.5;" width="181" x="268" y="1088.9531"/><ellipse cx="322.25" cy="1104.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M325.2188,1110.5938 Q324.6406,1110.8906 324,1111.0313 Q323.3594,1111.1875 322.6563,1111.1875 Q320.1563,1111.1875 318.8281,1109.5469 Q317.5156,1107.8906 317.5156,1104.7656 Q317.5156,1101.6406 318.8281,1099.9844 Q320.1563,1098.3281 322.6563,1098.3281 Q323.3594,1098.3281 324,1098.4844 Q324.6563,1098.6406 325.2188,1098.9375 L325.2188,1101.6563 Q324.5938,1101.0781 324,1100.8125 Q323.4063,1100.5313 322.7813,1100.5313 Q321.4375,1100.5313 320.75,1101.6094 Q320.0625,1102.6719 320.0625,1104.7656 Q320.0625,1106.8594 320.75,1107.9375 Q321.4375,1109 322.7813,1109 Q323.4063,1109 324,1108.7344 Q324.5938,1108.4531 325.2188,1107.875 L325.2188,1110.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="64" x="342.75" y="1109.1074">DimmLight</text><line style="stroke:#A80036;stroke-width:1.5;" x1="269" x2="448" y1="1120.9531" y2="1120.9531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="276" y="1128.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="104" x="288" y="1135.1636">last_state: Integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="269" x2="448" y1="1141.7578" y2="1141.7578"/><ellipse cx="279" cy="1152.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="122" x="288" y="1155.9683">«create» DimmLight()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="276" y="1162.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="83" x="288" y="1168.7729">on(brightness)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="276" y="1175.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="23" x="288" y="1181.5776">off()</text><ellipse cx="279" cy="1191.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="80" x="288" y="1194.3823">getLastState()</text><ellipse cx="279" cy="1203.9766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="288" y="1207.187">processAction(&amp;action_obj)</text><!--MD5=[fa9212bbe4a7ff480e36f0f34db1d1f0]
class GroupDimmLight--><rect codeLine="85" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="112.0234" id="GroupDimmLight" style="stroke:#A80036;stroke-width:1.5;" width="267" x="742" y="915.9531"/><ellipse cx="820.25" cy="931.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M823.2188,937.5938 Q822.6406,937.8906 822,938.0313 Q821.3594,938.1875 820.6563,938.1875 Q818.1563,938.1875 816.8281,936.5469 Q815.5156,934.8906 815.5156,931.7656 Q815.5156,928.6406 816.8281,926.9844 Q818.1563,925.3281 820.6563,925.3281 Q821.3594,925.3281 822,925.4844 Q822.6563,925.6406 823.2188,925.9375 L823.2188,928.6563 Q822.5938,928.0781 822,927.8125 Q821.4063,927.5313 820.7813,927.5313 Q819.4375,927.5313 818.75,928.6094 Q818.0625,929.6719 818.0625,931.7656 Q818.0625,933.8594 818.75,934.9375 Q819.4375,936 820.7813,936 Q821.4063,936 822,935.7344 Q822.5938,935.4531 823.2188,934.875 L823.2188,937.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="102" x="840.75" y="936.1074">GroupDimmLight</text><line style="stroke:#A80036;stroke-width:1.5;" x1="743" x2="1008" y1="947.9531" y2="947.9531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="750" y="955.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="241" x="762" y="962.1636">dimm_lights[]: Array of DimmLight Objects</text><line style="stroke:#A80036;stroke-width:1.5;" x1="743" x2="1008" y1="968.7578" y2="968.7578"/><ellipse cx="753" cy="979.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="157" x="762" y="982.9683">«create» GroupDimmLight()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="750" y="989.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="87" x="762" y="995.7729">set(brightness)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="750" y="1002.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="762" y="1008.5776">unset()</text><ellipse cx="753" cy="1018.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="762" y="1021.3823">processAction(&amp;action_obj)</text><!--MD5=[3b3c26083797194c137acdf47ba9247e]
class GroupSwitchLight--><rect codeLine="93" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="112.0234" id="GroupSwitchLight" style="stroke:#A80036;stroke-width:1.5;" width="255" x="1089" y="915.9531"/><ellipse cx="1158.25" cy="931.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1161.2188,937.5938 Q1160.6406,937.8906 1160,938.0313 Q1159.3594,938.1875 1158.6563,938.1875 Q1156.1563,938.1875 1154.8281,936.5469 Q1153.5156,934.8906 1153.5156,931.7656 Q1153.5156,928.6406 1154.8281,926.9844 Q1156.1563,925.3281 1158.6563,925.3281 Q1159.3594,925.3281 1160,925.4844 Q1160.6563,925.6406 1161.2188,925.9375 L1161.2188,928.6563 Q1160.5938,928.0781 1160,927.8125 Q1159.4063,927.5313 1158.7813,927.5313 Q1157.4375,927.5313 1156.75,928.6094 Q1156.0625,929.6719 1156.0625,931.7656 Q1156.0625,933.8594 1156.75,934.9375 Q1157.4375,936 1158.7813,936 Q1159.4063,936 1160,935.7344 Q1160.5938,935.4531 1161.2188,934.875 L1161.2188,937.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="108" x="1178.75" y="936.1074">GroupSwitchLight</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1090" x2="1343" y1="947.9531" y2="947.9531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1097" y="955.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="229" x="1109" y="962.1636">sw_lights[]: Array of SwitchLight Objects</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1090" x2="1343" y1="968.7578" y2="968.7578"/><ellipse cx="1100" cy="979.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="161" x="1109" y="982.9683">«create» GroupSwitchLight()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1097" y="989.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="26" x="1109" y="995.7729">set()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1097" y="1002.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="40" x="1109" y="1008.5776">unset()</text><ellipse cx="1100" cy="1018.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="1109" y="1021.3823">processAction(&amp;action_obj)</text><!--MD5=[e4faacc5b8aef66b11ab0c816bbbc7f8]
class Scene--><rect codeLine="101" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="137.6328" id="Scene" style="stroke:#A80036;stroke-width:1.5;" width="284" x="1047.5" y="556.9531"/><ellipse cx="1165.75" cy="572.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1168.7188,578.5938 Q1168.1406,578.8906 1167.5,579.0313 Q1166.8594,579.1875 1166.1563,579.1875 Q1163.6563,579.1875 1162.3281,577.5469 Q1161.0156,575.8906 1161.0156,572.7656 Q1161.0156,569.6406 1162.3281,567.9844 Q1163.6563,566.3281 1166.1563,566.3281 Q1166.8594,566.3281 1167.5,566.4844 Q1168.1563,566.6406 1168.7188,566.9375 L1168.7188,569.6563 Q1168.0938,569.0781 1167.5,568.8125 Q1166.9063,568.5313 1166.2813,568.5313 Q1164.9375,568.5313 1164.25,569.6094 Q1163.5625,570.6719 1163.5625,572.7656 Q1163.5625,574.8594 1164.25,575.9375 Q1164.9375,577 1166.2813,577 Q1166.9063,577 1167.5,576.7344 Q1168.0938,576.4531 1168.7188,575.875 L1168.7188,578.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="39" x="1186.25" y="577.1074">Scene</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1048.5" x2="1330.5" y1="588.9531" y2="588.9531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1055.5" y="596.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="170" x="1067.5" y="603.1636">lights[]: Array of Light Objects</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1055.5" y="609.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="258" x="1067.5" y="615.9683">appIdConfigDict: Dict &lt;app_id, configuration&gt;</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1048.5" x2="1330.5" y1="622.5625" y2="622.5625"/><ellipse cx="1058.5" cy="633.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="97" x="1067.5" y="636.7729">«create» Scene()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1055.5" y="643.3672"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="61" x="1067.5" y="649.5776">setScene()</text><ellipse cx="1058.5" cy="659.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="135" x="1067.5" y="662.3823">addLight(app_id, config)</text><ellipse cx="1058.5" cy="671.9766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="115" x="1067.5" y="675.187">removeLight(app_id)</text><ellipse cx="1058.5" cy="684.7813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="1067.5" y="687.9917">processAction(&amp;action_obj)</text><!--MD5=[80a979c5cb1fa74e07dd1637efa6e0a9]
class DayLightSensor--><rect codeLine="112" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="99.2188" id="DayLightSensor" style="stroke:#A80036;stroke-width:1.5;" width="181" x="529" y="1101.9531"/><ellipse cx="567.4" cy="1117.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M570.3688,1123.5938 Q569.7906,1123.8906 569.15,1124.0313 Q568.5094,1124.1875 567.8063,1124.1875 Q565.3063,1124.1875 563.9781,1122.5469 Q562.6656,1120.8906 562.6656,1117.7656 Q562.6656,1114.6406 563.9781,1112.9844 Q565.3063,1111.3281 567.8063,1111.3281 Q568.5094,1111.3281 569.15,1111.4844 Q569.8063,1111.6406 570.3688,1111.9375 L570.3688,1114.6563 Q569.7438,1114.0781 569.15,1113.8125 Q568.5563,1113.5313 567.9313,1113.5313 Q566.5875,1113.5313 565.9,1114.6094 Q565.2125,1115.6719 565.2125,1117.7656 Q565.2125,1119.8594 565.9,1120.9375 Q566.5875,1122 567.9313,1122 Q568.5563,1122 569.15,1121.7344 Q569.7438,1121.4531 570.3688,1120.875 L570.3688,1123.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="586.6" y="1122.1074">DayLightSensor</text><line style="stroke:#A80036;stroke-width:1.5;" x1="530" x2="709" y1="1133.9531" y2="1133.9531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="537" y="1141.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="549" y="1148.1636">brightness: Integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="530" x2="709" y1="1154.7578" y2="1154.7578"/><ellipse cx="540" cy="1165.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="151" x="549" y="1168.9683">«create» DayLightSensor()</text><ellipse cx="540" cy="1178.5625" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="91" x="549" y="1181.7729">getInformation()</text><ellipse cx="540" cy="1191.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="155" x="549" y="1194.5776">processAction(&amp;action_obj)</text><!--MD5=[f82d76eff182c810438097a2d656d907]
class ESIApp--><rect codeLine="120" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="265.6797" id="ESIApp" style="stroke:#A80036;stroke-width:1.5;" width="232" x="399.5" y="27.9531"/><ellipse cx="489.75" cy="43.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M492.7188,49.5938 Q492.1406,49.8906 491.5,50.0313 Q490.8594,50.1875 490.1563,50.1875 Q487.6563,50.1875 486.3281,48.5469 Q485.0156,46.8906 485.0156,43.7656 Q485.0156,40.6406 486.3281,38.9844 Q487.6563,37.3281 490.1563,37.3281 Q490.8594,37.3281 491.5,37.4844 Q492.1563,37.6406 492.7188,37.9375 L492.7188,40.6563 Q492.0938,40.0781 491.5,39.8125 Q490.9063,39.5313 490.2813,39.5313 Q488.9375,39.5313 488.25,40.6094 Q487.5625,41.6719 487.5625,43.7656 Q487.5625,45.8594 488.25,46.9375 Q488.9375,48 490.2813,48 Q490.9063,48 491.5,47.7344 Q492.0938,47.4531 492.7188,46.875 L492.7188,49.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="43" x="510.25" y="48.1074">ESIApp</text><line style="stroke:#A80036;stroke-width:1.5;" x1="400.5" x2="630.5" y1="59.9531" y2="59.9531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="407.5" y="67.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="206" x="419.5" y="74.1636">control_mgr: ControlManager Object</text><line style="stroke:#A80036;stroke-width:1.5;" x1="400.5" x2="630.5" y1="80.7578" y2="80.7578"/><ellipse cx="410.5" cy="91.7578" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="419.5" y="94.9683">«create» ESIApp()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="407.5" y="101.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="109" x="419.5" y="107.7729">processUserInput()</text><ellipse cx="410.5" cy="117.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="81" x="419.5" y="120.5776">getUserInput()</text><ellipse cx="410.5" cy="130.1719" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="78" x="419.5" y="133.3823">checkEvents()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="423.5" y="146.187"/><ellipse cx="410.5" cy="155.7813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="116" x="419.5" y="158.9917">createEventTrigger()</text><ellipse cx="410.5" cy="168.5859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="419.5" y="171.7964">createGroup()</text><ellipse cx="410.5" cy="181.3906" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="71" x="419.5" y="184.6011">createLight()</text><ellipse cx="410.5" cy="194.1953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="419.5" y="197.4058">createScene()</text><ellipse cx="410.5" cy="207" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="85" x="419.5" y="210.2104">createSensor()</text><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="0" x="423.5" y="223.0151"/><ellipse cx="410.5" cy="232.6094" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="419.5" y="235.8198">configureTrigger()</text><ellipse cx="410.5" cy="245.4141" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="419.5" y="248.6245">configureGroup()</text><ellipse cx="410.5" cy="258.2188" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="419.5" y="261.4292">configureLight()</text><ellipse cx="410.5" cy="271.0234" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="96" x="419.5" y="274.2339">configureScene()</text><ellipse cx="410.5" cy="283.8281" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="102" x="419.5" y="287.0386">configureSensor()</text><!--MD5=[a4ffa283341a1b7912cebd74e525ad13]
class ControlManager--><rect codeLine="141" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="188.8516" id="ControlManager" style="stroke:#A80036;stroke-width:1.5;" width="329" x="712" y="66.4531"/><ellipse cx="822.25" cy="82.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M825.2188,88.0938 Q824.6406,88.3906 824,88.5313 Q823.3594,88.6875 822.6563,88.6875 Q820.1563,88.6875 818.8281,87.0469 Q817.5156,85.3906 817.5156,82.2656 Q817.5156,79.1406 818.8281,77.4844 Q820.1563,75.8281 822.6563,75.8281 Q823.3594,75.8281 824,75.9844 Q824.6563,76.1406 825.2188,76.4375 L825.2188,79.1563 Q824.5938,78.5781 824,78.3125 Q823.4063,78.0313 822.7813,78.0313 Q821.4375,78.0313 820.75,79.1094 Q820.0625,80.1719 820.0625,82.2656 Q820.0625,84.3594 820.75,85.4375 Q821.4375,86.5 822.7813,86.5 Q823.4063,86.5 824,86.2344 Q824.5938,85.9531 825.2188,85.375 L825.2188,88.0938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="100" x="842.75" y="86.6074">ControlManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="713" x2="1040" y1="98.4531" y2="98.4531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="720" y="106.4531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="198" x="732" y="112.6636">triggers[]: Array of Trigger Objects</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="720" y="119.2578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="303" x="732" y="125.4683">appIdIndexDict: Dict &lt;app_id, index of entities array&gt;</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="720" y="132.0625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" text-decoration="underline" textLength="226" x="732" y="138.2729">entities[]: Array of ControlEntity Objects</text><line style="stroke:#A80036;stroke-width:1.5;" x1="713" x2="1040" y1="144.8672" y2="144.8672"/><ellipse cx="723" cy="155.8672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="152" x="732" y="159.0776">«create» ControlManager()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="720" y="165.6719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="79" x="732" y="171.8823">send(id, msg)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="720" y="178.4766"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="75" x="732" y="184.687">recv(id, msg)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="720" y="191.2813"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="732" y="197.4917">checkTriggers()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="720" y="204.0859"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="128" x="732" y="210.2964">checkSwitchStatuses()</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="720" y="216.8906"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="248" x="732" y="223.1011">sendControlAction(&amp;control_obj, action_obj)</text><ellipse cx="723" cy="232.6953" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="101" x="732" y="235.9058">addEventTrigger()</text><ellipse cx="723" cy="245.5" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="177" x="732" y="248.7104">removeEventTrigger(trigger_id)</text><!--MD5=[fddbe61d85191ac3cb0344f126263f40]
class Trigger()--><rect codeLine="155" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="137.6328" id="Trigger()" style="stroke:#A80036;stroke-width:1.5;" width="210" x="1121.5" y="91.9531"/><ellipse cx="1195.25" cy="107.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1198.2188,113.5938 Q1197.6406,113.8906 1197,114.0313 Q1196.3594,114.1875 1195.6563,114.1875 Q1193.1563,114.1875 1191.8281,112.5469 Q1190.5156,110.8906 1190.5156,107.7656 Q1190.5156,104.6406 1191.8281,102.9844 Q1193.1563,101.3281 1195.6563,101.3281 Q1196.3594,101.3281 1197,101.4844 Q1197.6563,101.6406 1198.2188,101.9375 L1198.2188,104.6563 Q1197.5938,104.0781 1197,103.8125 Q1196.4063,103.5313 1195.7813,103.5313 Q1194.4375,103.5313 1193.75,104.6094 Q1193.0625,105.6719 1193.0625,107.7656 Q1193.0625,109.8594 1193.75,110.9375 Q1194.4375,112 1195.7813,112 Q1196.4063,112 1197,111.7344 Q1197.5938,111.4531 1198.2188,110.875 L1198.2188,113.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="54" x="1215.75" y="112.1074">Trigger()</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1122.5" x2="1330.5" y1="123.9531" y2="123.9531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1129.5" y="131.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="1141.5" y="138.1636">targetAppId: Integer</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1129.5" y="144.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="139" x="1141.5" y="150.9683">action_obj: Action Object</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1129.5" y="157.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="137" x="1141.5" y="163.7729">period_duration: Integer</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1122.5" x2="1330.5" y1="170.3672" y2="170.3672"/><ellipse cx="1132.5" cy="181.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="167" x="1141.5" y="184.5776">«create» Trigger(&amp;bool_func)</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1129.5" y="191.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="125" x="1141.5" y="197.3823">checkCondition(): bool</text><ellipse cx="1132.5" cy="206.9766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="184" x="1141.5" y="210.187">returnEventTriggerStatus(): bool</text><ellipse cx="1132.5" cy="219.7813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="132" x="1141.5" y="222.9917">getPeriodDuration(): int</text><!--MD5=[441cdc7bd2b2daa780e6c7eb67e40044]
class Action()--><rect codeLine="165" fill="#FEFECE" filter="url(#f6489zutovkyj)" height="150.4375" id="Action()" style="stroke:#A80036;stroke-width:1.5;" width="214" x="1411.5" y="85.9531"/><ellipse cx="1489.75" cy="101.9531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1492.7188,107.5938 Q1492.1406,107.8906 1491.5,108.0313 Q1490.8594,108.1875 1490.1563,108.1875 Q1487.6563,108.1875 1486.3281,106.5469 Q1485.0156,104.8906 1485.0156,101.7656 Q1485.0156,98.6406 1486.3281,96.9844 Q1487.6563,95.3281 1490.1563,95.3281 Q1490.8594,95.3281 1491.5,95.4844 Q1492.1563,95.6406 1492.7188,95.9375 L1492.7188,98.6563 Q1492.0938,98.0781 1491.5,97.8125 Q1490.9063,97.5313 1490.2813,97.5313 Q1488.9375,97.5313 1488.25,98.6094 Q1487.5625,99.6719 1487.5625,101.7656 Q1487.5625,103.8594 1488.25,104.9375 Q1488.9375,106 1490.2813,106 Q1490.9063,106 1491.5,105.7344 Q1492.0938,105.4531 1492.7188,104.875 L1492.7188,107.5938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="49" x="1510.25" y="106.1074">Action()</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1412.5" x2="1624.5" y1="117.9531" y2="117.9531"/><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1419.5" y="125.9531"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="113" x="1431.5" y="132.1636">targetAppId: Integer</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1419.5" y="138.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="98" x="1431.5" y="144.9683">action_id: Integer</text><rect fill="none" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1419.5" y="151.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="72" x="1431.5" y="157.7729">args[]: Array</text><line style="stroke:#A80036;stroke-width:1.5;" x1="1412.5" x2="1624.5" y1="164.3672" y2="164.3672"/><ellipse cx="1422.5" cy="175.3672" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="188" x="1431.5" y="178.5776">«create» Action(action_id, args[])</text><rect fill="#F24D5C" height="6" style="stroke:#C82930;stroke-width:1.0;" width="6" x="1419.5" y="185.1719"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="1431.5" y="191.3823">setTargetAppId()</text><ellipse cx="1422.5" cy="200.9766" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="94" x="1431.5" y="204.187">getTargetAppId()</text><ellipse cx="1422.5" cy="213.7813" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="70" x="1431.5" y="216.9917">getActionId()</text><ellipse cx="1422.5" cy="226.5859" fill="#84BE84" rx="3" ry="3" style="stroke:#038048;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="11" lengthAdjust="spacing" textLength="88" x="1431.5" y="229.7964">getArguments()</text><!--MD5=[e488ccf6c71f146faaa730ee71cbbceb]
class ControManager--><rect fill="#FEFECE" filter="url(#f6489zutovkyj)" height="48" id="ControManager" style="stroke:#A80036;stroke-width:1.5;" width="129" x="451" y="409.4531"/><ellipse cx="466" cy="425.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M468.9688,431.0938 Q468.3906,431.3906 467.75,431.5313 Q467.1094,431.6875 466.4063,431.6875 Q463.9063,431.6875 462.5781,430.0469 Q461.2656,428.3906 461.2656,425.2656 Q461.2656,422.1406 462.5781,420.4844 Q463.9063,418.8281 466.4063,418.8281 Q467.1094,418.8281 467.75,418.9844 Q468.4063,419.1406 468.9688,419.4375 L468.9688,422.1563 Q468.3438,421.5781 467.75,421.3125 Q467.1563,421.0313 466.5313,421.0313 Q465.1875,421.0313 464.5,422.1094 Q463.8125,423.1719 463.8125,425.2656 Q463.8125,427.3594 464.5,428.4375 Q465.1875,429.5 466.5313,429.5 Q467.1563,429.5 467.75,429.2344 Q468.3438,428.9531 468.9688,428.375 L468.9688,431.0938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="97" x="480" y="429.6074">ControManager</text><line style="stroke:#A80036;stroke-width:1.5;" x1="452" x2="579" y1="441.4531" y2="441.4531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="452" x2="579" y1="449.4531" y2="449.4531"/><!--MD5=[f8158362d3f9eaf6b261520465ba7069]
class Trigger--><rect fill="#FEFECE" filter="url(#f6489zutovkyj)" height="48" id="Trigger" style="stroke:#A80036;stroke-width:1.5;" width="76" x="294.5" y="409.4531"/><ellipse cx="309.5" cy="425.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M312.4688,431.0938 Q311.8906,431.3906 311.25,431.5313 Q310.6094,431.6875 309.9063,431.6875 Q307.4063,431.6875 306.0781,430.0469 Q304.7656,428.3906 304.7656,425.2656 Q304.7656,422.1406 306.0781,420.4844 Q307.4063,418.8281 309.9063,418.8281 Q310.6094,418.8281 311.25,418.9844 Q311.9063,419.1406 312.4688,419.4375 L312.4688,422.1563 Q311.8438,421.5781 311.25,421.3125 Q310.6563,421.0313 310.0313,421.0313 Q308.6875,421.0313 308,422.1094 Q307.3125,423.1719 307.3125,425.2656 Q307.3125,427.3594 308,428.4375 Q308.6875,429.5 310.0313,429.5 Q310.6563,429.5 311.25,429.2344 Q311.8438,428.9531 312.4688,428.375 L312.4688,431.0938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="44" x="323.5" y="429.6074">Trigger</text><line style="stroke:#A80036;stroke-width:1.5;" x1="295.5" x2="369.5" y1="441.4531" y2="441.4531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="295.5" x2="369.5" y1="449.4531" y2="449.4531"/><!--MD5=[f8e7078f77c005d15b486c0c98deb1e6]
class Action--><rect fill="#FEFECE" filter="url(#f6489zutovkyj)" height="48" id="Action" style="stroke:#A80036;stroke-width:1.5;" width="71" x="143" y="409.4531"/><ellipse cx="158" cy="425.4531" fill="#ADD1B2" rx="11" ry="11" style="stroke:#A80036;stroke-width:1.0;"/><path d="M160.9688,431.0938 Q160.3906,431.3906 159.75,431.5313 Q159.1094,431.6875 158.4063,431.6875 Q155.9063,431.6875 154.5781,430.0469 Q153.2656,428.3906 153.2656,425.2656 Q153.2656,422.1406 154.5781,420.4844 Q155.9063,418.8281 158.4063,418.8281 Q159.1094,418.8281 159.75,418.9844 Q160.4063,419.1406 160.9688,419.4375 L160.9688,422.1563 Q160.3438,421.5781 159.75,421.3125 Q159.1563,421.0313 158.5313,421.0313 Q157.1875,421.0313 156.5,422.1094 Q155.8125,423.1719 155.8125,425.2656 Q155.8125,427.3594 156.5,428.4375 Q157.1875,429.5 158.5313,429.5 Q159.1563,429.5 159.75,429.2344 Q160.3438,428.9531 160.9688,428.375 L160.9688,431.0938 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="12" lengthAdjust="spacing" textLength="39" x="172" y="429.6074">Action</text><line style="stroke:#A80036;stroke-width:1.5;" x1="144" x2="213" y1="441.4531" y2="441.4531"/><line style="stroke:#A80036;stroke-width:1.5;" x1="144" x2="213" y1="449.4531" y2="449.4531"/><!--MD5=[dcd22d50342af11664ed34e33e614224]
reverse link Device to Light--><path codeLine="178" d="M504.92,625.9531 C504.92,625.9531 424.25,625.9531 424.25,625.9531 C424.25,625.9531 424.25,702.7931 424.25,755.9331 " fill="none" id="Device-backto-Light" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="504.92,618.9531,524.92,625.9531,504.92,632.9531,504.92,618.9531" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[11e26fa4fbd03a70b9cb9c8ed391c96b]
reverse link Device to Sensor--><path codeLine="179" d="M617.5,702.2531 C617.5,702.2531 617.5,762.1731 617.5,762.1731 " fill="none" id="Device-backto-Sensor" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="610.5,702.2531,617.5,682.2531,624.5,702.2531,610.5,702.2531" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[13c53b48b3b67d5cdbec04c27a4f3605]
reverse link ESIApp to ControManager--><path codeLine="181" d="M494,307.0131 C494,307.0131 494,409.0531 494,409.0531 " fill="none" id="ESIApp-backto-ControManager" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="494,294.0131,490,300.0131,494,306.0131,498,300.0131,494,294.0131" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="484.6055" y="313.7793">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="479.7844" y="398.3606">1</text><!--MD5=[3a1757be412a6d095061e7b80f844fe8]
link ESIApp to ControManager--><path codeLine="182" d="M537,294.0131 C537,294.0131 537,404.0531 537,404.0531 " fill="none" id="ESIApp-to-ControManager" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="537,409.0531,541,400.0531,537,404.0531,533,400.0531,537,409.0531" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="543.4609" y="313.7793">friends</text><!--MD5=[aff6bbf4a07809fd05b720a22944eb2d]
reverse link Trigger to ControManager--><path codeLine="183" d="M383.86,425.9531 C383.86,425.9531 450.89,425.9531 450.89,425.9531 " fill="none" id="Trigger-backto-ControManager" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#FFFFFF" points="370.86,425.9531,376.86,429.9531,382.86,425.9531,376.86,421.9531,370.86,425.9531" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="378.4948" y="420.7333">0..*</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="434.957" y="421.2933">1</text><!--MD5=[aff6bbf4a07809fd05b720a22944eb2d]
reverse link Trigger to ControManager--><path codeLine="184" d="M375.86,441.9531 C375.86,441.9531 450.89,441.9531 450.89,441.9531 " fill="none" id="Trigger-backto-ControManager-1" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="370.86,441.9531,379.86,445.9531,375.86,441.9531,379.86,437.9531,370.86,441.9531" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="378.5296" y="439.1567">friends</text><!--MD5=[857045e29efdefde167a6c4ff99a15a5]
reverse link Action to Trigger--><path codeLine="185" d="M219.22,425.9531 C219.22,425.9531 294.28,425.9531 294.28,425.9531 " fill="none" id="Action-backto-Trigger" style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:7.0,7.0;"/><polygon fill="#A80036" points="214.22,425.9531,223.22,429.9531,219.22,425.9531,223.22,421.9531,214.22,425.9531" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="221.9089" y="421.0133">friends</text><!--MD5=[857045e29efdefde167a6c4ff99a15a5]
reverse link Action to Trigger--><path codeLine="186" d="M227.22,441.9531 C227.22,441.9531 294.28,441.9531 294.28,441.9531 " fill="none" id="Action-backto-Trigger-1" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="214.22,441.9531,220.22,445.9531,226.22,441.9531,220.22,437.9531,214.22,441.9531" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="222.0399" y="439.23">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="8" x="278.4957" y="439.2166">1</text><!--MD5=[77c49a54cdddb7d7c72e6240057ae7b3]
link ControlManager to ControlEntity--><path codeLine="188" d="M876.5,255.4931 C876.5,293.6231 876.5,336.5631 876.5,370.7131 " fill="none" id="ControlManager-ControlEntity" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#000000" points="881.5,337.5195,884.4389,328.4744,878.5611,328.4744,881.5,337.5195" style="stroke:#000000;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="890.5" y="337.02">communicates</text><!--MD5=[fb3bbd41124c0f992de54ca86bc72908]
reverse link ControlEntity to Device--><path codeLine="190" d="M765.98,476.9531 C765.98,476.9531 668.75,476.9531 668.75,476.9531 C668.75,476.9531 668.75,527.4331 668.75,569.6231 " fill="none" id="ControlEntity-backto-Device" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="765.98,469.9531,785.98,476.9531,765.98,483.9531,765.98,469.9531" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[0cd7c0eb366dc8185ce80880f709be81]
reverse link ControlEntity to Group--><path codeLine="191" d="M876.5,516.2231 C876.5,516.2231 876.5,563.2731 876.5,563.2731 " fill="none" id="ControlEntity-backto-Group" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="869.5,516.2231,876.5,496.2231,883.5,516.2231,869.5,516.2231" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9948c444d4b39eacc8be12ead7f1d120]
reverse link ControlEntity to Scene--><path codeLine="192" d="M987.13,433.9531 C987.13,433.9531 1084.5,433.9531 1084.5,433.9531 C1084.5,433.9531 1084.5,501.8631 1084.5,556.9031 " fill="none" id="ControlEntity-backto-Scene" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="987.13,440.9531,967.13,433.9531,987.13,426.9531,987.13,440.9531" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[d279c403f4cddc7e28c36a1def3c8083]
reverse link Light to SwitchLight--><path codeLine="194" d="M247.93,805.9531 C247.93,805.9531 165.5,805.9531 165.5,805.9531 C165.5,805.9531 165.5,1006.4131 165.5,1101.9531 " fill="none" id="Light-backto-SwitchLight" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="247.93,798.9531,267.93,805.9531,247.93,812.9531,247.93,798.9531" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[fa31e174c868248651664775c33a84f6]
reverse link Light to DimmLight--><path codeLine="195" d="M358.5,875.0231 C358.5,875.0231 358.5,1088.7831 358.5,1088.7831 " fill="none" id="Light-backto-DimmLight" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="351.5,875.0231,358.5,855.0231,365.5,875.0231,351.5,875.0231" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[6991dbd1ca482ecc7389123587e0c1bc]
reverse link Group to GroupSwitchLight--><path codeLine="197" d="M987.16,625.9531 C987.16,625.9531 1025,625.9531 1025,625.9531 C1025,625.9531 1025,971.9531 1025,971.9531 C1025,971.9531 1053.64,971.9531 1088.77,971.9531 " fill="none" id="Group-backto-GroupSwitchLight" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="987.16,632.9531,967.16,625.9531,987.16,618.9531,987.16,632.9531" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[4b8dac36180e540b1cd78d4428d08084]
reverse link Group to GroupDimmLight--><path codeLine="198" d="M876.5,708.6131 C876.5,708.6131 876.5,915.7731 876.5,915.7731 " fill="none" id="Group-backto-GroupDimmLight" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="869.5,708.6131,876.5,688.6131,883.5,708.6131,869.5,708.6131" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[9e17209929780919f682991771dab95e]
reverse link Sensor to DayLightSensor--><path codeLine="200" d="M619.5,868.5731 C619.5,868.5731 619.5,1101.9131 619.5,1101.9131 " fill="none" id="Sensor-backto-DayLightSensor" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="none" points="612.5,868.5731,619.5,848.5731,626.5,868.5731,612.5,868.5731" style="stroke:#A80036;stroke-width:1.0;"/><!--MD5=[e4dbb98c0dc25b96657d6e1288e6d880]
@startuml
' Settings
' ============================

' use +,#,- instead of icons
'skinparam classAttributeIconSize 0

' horizontal distance in px
' skinparam nodesep 60

' vertical distance in px
' skinparam ranksep 50

' use only straight lines (ortho/polyline)
skinparam linetype ortho

' title
title 1-2-4 Smart Light System


skinparam nodesep 80
skinparam ranksep 60


' Abstract Classes
' ============================
class ControlEntity {
    - app_id : Integer
    + <<create>> ControlEntity()
    - send(id, msg)
    - recv(id, msg)
    + processAction(&action_obj)
    + getAppID()
}

class Device {
    - device_id : Integer
    + <<create>> Device()
    + getDeviceID()
    + getDeviceStatus(): String
    + processAction(&action_obj)
}

class Group {
    + <<create>> Group()
    - set()
    - unset()
    + addLight(app_id)
    + removeLight(app_id)
    + processAction(&action_obj)
}

class Light {
    + <<create>> Light()
    -on()
    -off()
    + processAction(&action_obj)
}


class Sensor {
    + <<create>> Sensor()
    + getInformation()
    + processAction(&action_obj)
}

' Concrete Classes
' ============================
class SwitchLight {
    + <<create>> SwitchLight()
    - on()
    - off()
    + processAction(&action_obj)
}

class DimmLight {
    - last_state: Integer

    + <<create>> DimmLight()
    - on(brightness)
    - off()
    + getLastState()
    + processAction(&action_obj)
}

class GroupDimmLight {
    - dimm_lights[]: Array of DimmLight Objects
    + <<create>> GroupDimmLight()
    - set(brightness)
    - unset()
    + processAction(&action_obj)
}

class GroupSwitchLight {
    - sw_lights[]: Array of SwitchLight Objects
    + <<create>> GroupSwitchLight()
    - set()
    - unset()
    + processAction(&action_obj)
}

class Scene {
    - lights[]: Array of Light Objects
    - appIdConfigDict: Dict <app_id, configuration>

    + <<create>> Scene()
    - setScene()
    + addLight(app_id, config)
    + removeLight(app_id)
    + processAction(&action_obj)
}

class DayLightSensor {
    - brightness: Integer

    + <<create>> DayLightSensor()
    + getInformation()
    + processAction(&action_obj)
}

class ESIApp {
    - {static} control_mgr: ControlManager Object

    + <<create>> ESIApp()
    - processUserInput()
    + getUserInput()
    + checkEvents()

    + createEventTrigger()
    + createGroup()
    + createLight()
    + createScene()
    + createSensor()

    + configureTrigger()
    + configureGroup()
    + configureLight()
    + configureScene()
    + configureSensor()
}

class ControlManager {
    - triggers[]: Array of Trigger Objects
    - appIdIndexDict: Dict <app_id, index of entities array>
    - {static} entities[]: Array of ControlEntity Objects
    + <<create>> ControlManager()
    - send(id, msg)
    - recv(id, msg)
    - checkTriggers()
    - checkSwitchStatuses()
    - sendControlAction(&control_obj, action_obj)
    + addEventTrigger()
    + removeEventTrigger(trigger_id)
}

class Trigger() {
    - targetAppId: Integer
    - action_obj: Action Object
    - period_duration: Integer
    + <<create>> Trigger(&bool_func)
    - checkCondition(): bool
    + returnEventTriggerStatus(): bool
    + getPeriodDuration(): int
}

class Action() {
    - targetAppId: Integer
    - action_id: Integer
    - args[]: Array
    + <<create>> Action(action_id, args[])
    - setTargetAppId()
    + getTargetAppId()
    + getActionId()
    + getArguments()
}

' Relations
' ================================
Device <|-down- Light
Device <|-down- Sensor

ESIApp "1" *-down- "1" ControManager
ESIApp " friends" .down.> ControManager
Trigger "0..*" o-right- "1" ControManager
Trigger "friends" <.right. ControManager
Action "friends" <.right. Trigger
Action "1" *-right- "1" Trigger

ControlManager -down- ControlEntity : communicates >

ControlEntity <|-down- Device
ControlEntity <|-down- Group
ControlEntity <|-down- Scene

Light <|-down- - SwitchLight
Light <|-down- - DimmLight

Group <|-down- - GroupSwitchLight
Group <|-down- - GroupDimmLight

Sensor <|-down- - DayLightSensor


@enduml

@startuml




skinparam linetype ortho

title 1-2-4 Smart Light System


skinparam nodesep 80
skinparam ranksep 60


class ControlEntity {
    - app_id : Integer
    + <<create>> ControlEntity()
    - send(id, msg)
    - recv(id, msg)
    + processAction(&action_obj)
    + getAppID()
}

class Device {
    - device_id : Integer
    + <<create>> Device()
    + getDeviceID()
    + getDeviceStatus(): String
    + processAction(&action_obj)
}

class Group {
    + <<create>> Group()
    - set()
    - unset()
    + addLight(app_id)
    + removeLight(app_id)
    + processAction(&action_obj)
}

class Light {
    + <<create>> Light()
    -on()
    -off()
    + processAction(&action_obj)
}


class Sensor {
    + <<create>> Sensor()
    + getInformation()
    + processAction(&action_obj)
}

class SwitchLight {
    + <<create>> SwitchLight()
    - on()
    - off()
    + processAction(&action_obj)
}

class DimmLight {
    - last_state: Integer

    + <<create>> DimmLight()
    - on(brightness)
    - off()
    + getLastState()
    + processAction(&action_obj)
}

class GroupDimmLight {
    - dimm_lights[]: Array of DimmLight Objects
    + <<create>> GroupDimmLight()
    - set(brightness)
    - unset()
    + processAction(&action_obj)
}

class GroupSwitchLight {
    - sw_lights[]: Array of SwitchLight Objects
    + <<create>> GroupSwitchLight()
    - set()
    - unset()
    + processAction(&action_obj)
}

class Scene {
    - lights[]: Array of Light Objects
    - appIdConfigDict: Dict <app_id, configuration>

    + <<create>> Scene()
    - setScene()
    + addLight(app_id, config)
    + removeLight(app_id)
    + processAction(&action_obj)
}

class DayLightSensor {
    - brightness: Integer

    + <<create>> DayLightSensor()
    + getInformation()
    + processAction(&action_obj)
}

class ESIApp {
    - {static} control_mgr: ControlManager Object

    + <<create>> ESIApp()
    - processUserInput()
    + getUserInput()
    + checkEvents()

    + createEventTrigger()
    + createGroup()
    + createLight()
    + createScene()
    + createSensor()

    + configureTrigger()
    + configureGroup()
    + configureLight()
    + configureScene()
    + configureSensor()
}

class ControlManager {
    - triggers[]: Array of Trigger Objects
    - appIdIndexDict: Dict <app_id, index of entities array>
    - {static} entities[]: Array of ControlEntity Objects
    + <<create>> ControlManager()
    - send(id, msg)
    - recv(id, msg)
    - checkTriggers()
    - checkSwitchStatuses()
    - sendControlAction(&control_obj, action_obj)
    + addEventTrigger()
    + removeEventTrigger(trigger_id)
}

class Trigger() {
    - targetAppId: Integer
    - action_obj: Action Object
    - period_duration: Integer
    + <<create>> Trigger(&bool_func)
    - checkCondition(): bool
    + returnEventTriggerStatus(): bool
    + getPeriodDuration(): int
}

class Action() {
    - targetAppId: Integer
    - action_id: Integer
    - args[]: Array
    + <<create>> Action(action_id, args[])
    - setTargetAppId()
    + getTargetAppId()
    + getActionId()
    + getArguments()
}

Device <|-down- Light
Device <|-down- Sensor

ESIApp "1" *-down- "1" ControManager
ESIApp " friends" .down.> ControManager
Trigger "0..*" o-right- "1" ControManager
Trigger "friends" <.right. ControManager
Action "friends" <.right. Trigger
Action "1" *-right- "1" Trigger

ControlManager -down- ControlEntity : communicates >

ControlEntity <|-down- Device
ControlEntity <|-down- Group
ControlEntity <|-down- Scene

Light <|-down- - SwitchLight
Light <|-down- - DimmLight

Group <|-down- - GroupSwitchLight
Group <|-down- - GroupDimmLight

Sensor <|-down- - DayLightSensor


@enduml

PlantUML version 1.2021.9(Sun Jul 25 12:13:56 CEST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>